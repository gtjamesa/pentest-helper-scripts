#!/bin/bash

mkbox() {
  mkdir "$1/reports" && mkdir "$1/loot" && mkdir "$1/exploit" && mkdir "$1/www" && cd $1
  echo "tmux: attach -c $(pwd)"
  tmux-cwd
}

mklab() {
  mkdir -p "$1/boxes" && mkdir "$1/internal-scan" && mkdir "$1/external-scan"
  touch "$1/users.txt" && touch "$1/pass.txt" && touch "$1/online-hosts.txt"
  cd "$1"
  echo "tmux: attach -c $(pwd)"
  tmux-cwd
}

fibox() {
  TDIR="${PWD##*/}"

  # A directory was specified
  if [[ -n "$1" ]]; then
    TDIR="$1"
  else
    cd ..
  fi

  if [[ ! -d "$TDIR" ]]; then
    echo "Directory not found"
    return 0
  fi

  echo -n "Compressing $TDIR... "
  sudo tar -czf "$TDIR.tar.gz" "$TDIR"
  sudo chmod "$USER:" "$TDIR.tar.gz"
  sudo rm -rf "$TDIR"
  echo -e "\033[0;32mDone\033[0m"
}