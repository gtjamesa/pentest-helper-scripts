#!/usr/bin/env python3
from argparse import ArgumentParser
from sys import stdin, stdout, argv
from urllib.parse import quote as url_encode


def aggressive_url_encode(string):
    return "".join("%{0:0>2}".format(format(ord(char), "x")) for char in string)


if __name__ == '__main__':
    parser = ArgumentParser()
    parser.add_argument("-a", "--agressive", help="Forcibly encode every character rather than non-url safe characters", action="store_true")
    parser.add_argument("string", nargs="*")
    args = parser.parse_args()

    if args.agressive:
        if args.string:
            stdout.write(aggressive_url_encode(" ".join(args.string)))
        else:
            stdout.write(aggressive_url_encode(stdin.read()[:-1]))
    else:
        if args.string:
            stdout.write(url_encode(" ".join(args.string)))
        else:
            stdout.write(url_encode(stdin.read()[:-1]))

